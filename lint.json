
> sites-factory-saas@0.1.0 lint
> eslint --format json

[{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\read_lint.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":29}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const fs = require('fs');\r\nconst path = require('path');\r\n\r\ntry {\r\n    const raw = fs.readFileSync('lint.json', 'utf8');\r\n    const start = raw.indexOf('[');\r\n    if (start === -1) throw new Error('No JSON start');\r\n\r\n    const json = JSON.parse(raw.substring(start));\r\n    let count = 0;\r\n\r\n    // cwd is where we run node from\r\n    const cwd = process.cwd();\r\n\r\n    const grouped = {};\r\n    json.forEach(f => {\r\n        const relPath = path.relative(cwd, f.filePath);\r\n        if (f.messages.length > 0) {\r\n            grouped[relPath] = f.messages.map(m => `${m.line}:${m.column} ${m.ruleId.replace('@typescript-eslint/', '')} - ${m.message}`);\r\n            count += f.messages.length;\r\n        }\r\n    });\r\n\r\n    Object.keys(grouped).forEach(file => {\r\n        console.log(`\\n=== ${file} ===`);\r\n        grouped[file].forEach(m => console.log(m));\r\n    });\r\n\r\n    console.log(`\\nTotal: ${count}`);\r\n} catch (e) {\r\n    console.error(e.message);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\clients\\[clientId]\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchClient' and 'fetchProjects'. Either include them or remove the dependency array.","line":52,"column":8,"nodeType":"ArrayExpression","endLine":52,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [clientId, fetchClient, fetchProjects]","fix":{"range":[2110,2120],"text":"[clientId, fetchClient, fetchProjects]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\clients\\leads\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'confirm' is assigned a value but never used.","line":40,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":40,"endColumn":33},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'toast'. Either include it or remove the dependency array.","line":61,"column":8,"nodeType":"ArrayExpression","endLine":61,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [id, router, toast]","fix":{"range":[2291,2303],"text":"[id, router, toast]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2694,2697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2694,2697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'result' is assigned a value but never used.","line":111,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":111,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4469,4472],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4469,4472],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { ArrowLeft, CheckCircle, ExternalLink } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\nimport { LeadForm } from '@/components/leads/LeadForm';\r\nimport { getLead, updateLead, convertLead } from '@/data/leads';\r\nimport { Lead, LeadInput } from '@/types/lead';\r\nimport { useDialog } from '@/hooks/useDialog';\r\nimport { useToast } from '@/hooks/useToast';\r\nimport { ToastContainer } from '@/components/ui/Toast';\r\nimport { Dialog } from '@/components/ui/Dialog';\r\nimport { Modal } from '@/components/ui/Modal';\r\n\r\nexport default function LeadDetailsPage() {\r\n    const router = useRouter();\r\n    const params = useParams();\r\n    const id = params?.id as string;\r\n\r\n    const [lead, setLead] = useState<Lead | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [isConverting, setIsConverting] = useState(false);\r\n    const [showConversionModal, setShowConversionModal] = useState(false);\r\n    const [conversionFormData, setConversionFormData] = useState<{\r\n        fullName: string;\r\n        email?: string;\r\n        phone?: string;\r\n        status: string;\r\n        source?: string;\r\n        notes?: string;\r\n        createProject?: boolean;\r\n        projectType?: string;\r\n        projectStage?: string;\r\n    } | null>(null);\r\n    const { dialogState, confirm, closeDialog } = useDialog();\r\n    const toast = useToast();\r\n\r\n    useEffect(() => {\r\n        const fetchLead = async () => {\r\n            if (!id) return;\r\n            try {\r\n                const data = await getLead(id);\r\n                if (!data) {\r\n                    toast.error(\"Lead not found\");\r\n                    router.push('/admin/clients');\r\n                    return;\r\n                }\r\n                setLead(data);\r\n            } catch (error) {\r\n                console.error(\"Failed to load lead\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchLead();\r\n    }, [id, router]);\r\n\r\n    const handleUpdateLead = async (data: unknown) => {\r\n        if (!lead) return;\r\n        setIsSaving(true);\r\n        try {\r\n            await updateLead(id, data as Partial<LeadInput>);\r\n            toast.success(\"Lead updated successfully!\");\r\n            setTimeout(() => {\r\n                router.push('/admin/clients?tab=leads');\r\n            }, 500);\r\n        } catch (error: any) {\r\n            console.error(\"Failed to update lead\", error);\r\n            toast.error(\"Failed to update lead\");\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleConvertClick = () => {\r\n        setConversionFormData({\r\n            fullName: lead?.fullName || '',\r\n            email: lead?.email || '',\r\n            phone: lead?.phone || '',\r\n            status: lead?.status || 'new',\r\n            source: lead?.source || '',\r\n            notes: lead?.notes || ''\r\n        });\r\n        setShowConversionModal(true);\r\n    };\r\n\r\n    const handleConfirmConversion = async () => {\r\n        if (!lead || !conversionFormData) return;\r\n        setIsConverting(true);\r\n\r\n        try {\r\n            const conversionOptions = {\r\n                createProject: conversionFormData.createProject || false,\r\n                clientData: {\r\n                    fullName: conversionFormData.fullName,\r\n                    email: conversionFormData.email,\r\n                    phone: conversionFormData.phone,\r\n                    status: conversionFormData.status,\r\n                    notes: conversionFormData.notes\r\n                },\r\n                projectData: conversionFormData.createProject ? {\r\n                    type: conversionFormData.projectType || 'external',\r\n                    pipelineStage: conversionFormData.projectStage || 'waiting_materials'\r\n                } : undefined\r\n            };\r\n\r\n            const result = await convertLead(lead.id, conversionOptions);\r\n\r\n            setShowConversionModal(false);\r\n            toast.success(`${conversionFormData.fullName} converted to client successfully!`);\r\n\r\n            setTimeout(() => {\r\n                router.push('/admin/clients');\r\n            }, 1000);\r\n        } catch (error: any) {\r\n            console.error(\"Failed to convert lead\", error);\r\n            toast.error(error.message || \"Failed to convert lead\");\r\n            setIsConverting(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center  min-h-[400px]\">\r\n                <Spinner className=\"h-8 w-8\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!lead) return null;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center gap-4\">\r\n                <Button variant=\"ghost\" className=\"p-0 h-8 w-8\" onClick={() => router.push('/admin/clients/leads')}>\r\n                    <ArrowLeft className=\"h-5 w-5\" />\r\n                </Button>\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold tracking-tight text-gray-900\">{lead.fullName}</h1>\r\n                    <div className=\"text-sm text-gray-500 flex items-center gap-2\">\r\n                        Status: <span className=\"capitalize font-medium text-gray-900\">{lead.status}</span>\r\n                        {lead.status === 'converted' && <CheckCircle className=\"h-4 w-4 text-green-500\" />}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"ml-auto flex gap-2\">\r\n                    {lead.status !== 'converted' ? (\r\n                        <Button\r\n                            variant=\"primary\"\r\n                            className=\"bg-indigo-600 hover:bg-indigo-700 text-white\"\r\n                            onClick={handleConvertClick}\r\n                            isLoading={isConverting}\r\n                        >\r\n                            Convert to Client\r\n                        </Button>\r\n                    ) : (\r\n                        <div className=\"flex gap-2\">\r\n                            {lead.clientId && (\r\n                                <Button variant=\"outline\" onClick={() => router.push(`/admin/clients/${lead.clientId}`)}>\r\n                                    View Client <ExternalLink className=\"ml-2 h-3 w-3\" />\r\n                                </Button>\r\n                            )}\r\n                            {lead.projectId && (\r\n                                <Button variant=\"outline\" onClick={() => router.push(`/admin/projects/${lead.projectId}`)}>\r\n                                    View Project <ExternalLink className=\"ml-2 h-3 w-3\" />\r\n                                </Button>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {lead.status === 'converted' && (\r\n                <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4\">\r\n                    <div className=\"flex\">\r\n                        <div className=\"flex-shrink-0\">\r\n                            <CheckCircle className=\"h-5 w-5 text-blue-400\" />\r\n                        </div>\r\n                        <div className=\"ml-3\">\r\n                            <p className=\"text-sm text-blue-700\">\r\n                                This lead has been converted to a client. Use the <strong>Client</strong> record as the main source of truth for contact details.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                <div className=\"lg:col-span-2\">\r\n                    <Card className=\"p-6\">\r\n                        <LeadForm\r\n                            initialData={lead}\r\n                            onSubmit={handleUpdateLead}\r\n                            onCancel={() => router.push('/admin/clients/leads')}\r\n                            isLoading={isSaving}\r\n                            submitLabel=\"Save Changes\"\r\n                        />\r\n                    </Card>\r\n                </div>\r\n\r\n                <div className=\"space-y-6\">\r\n                    <Card className=\"p-6\">\r\n                        <h3 className=\"font-semibold text-gray-900 mb-4\">Lead Info</h3>\r\n                        <dl className=\"space-y-3 text-sm\">\r\n                            <div className=\"flex justify-between\">\r\n                                <dt className=\"text-gray-500\">Created</dt>\r\n                                <dd className=\"text-gray-900\">{lead.createdAt?.toDate ? lead.createdAt.toDate().toLocaleDateString() : 'Unknown'}</dd>\r\n                            </div>\r\n                            <div className=\"flex justify-between\">\r\n                                <dt className=\"text-gray-500\">Source</dt>\r\n                                <dd className=\"text-gray-900\">{lead.source || 'Manual'}</dd>\r\n                            </div>\r\n                            {lead.convertedAt && (\r\n                                <div className=\"flex justify-between border-t pt-2 mt-2\">\r\n                                    <dt className=\"text-gray-500\">Converted</dt>\r\n                                    <dd className=\"text-gray-900\">{lead.convertedAt?.toDate ? lead.convertedAt.toDate().toLocaleDateString() : 'Unknown'}</dd>\r\n                                </div>\r\n                            )}\r\n                        </dl>\r\n                    </Card>\r\n                </div>\r\n\r\n                {/* Global Dialog */}\r\n                <Dialog\r\n                    isOpen={dialogState.isOpen}\r\n                    onClose={closeDialog}\r\n                    onConfirm={dialogState.onConfirm}\r\n                    type={dialogState.type}\r\n                    title={dialogState.title}\r\n                    message={dialogState.message}\r\n                />\r\n\r\n                {/* Conversion Preview Modal */}\r\n                <Modal\r\n                    isOpen={showConversionModal}\r\n                    onClose={() => setShowConversionModal(false)}\r\n                    title=\"Convert to Client\"\r\n                >\r\n                    <div className=\"space-y-4\">\r\n                        <p className=\"text-sm text-gray-600 mb-4\">\r\n                            Review and update the client details. You can optionally create a project.\r\n                        </p>\r\n\r\n                        {conversionFormData && (\r\n                            <div className=\"space-y-4\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Full Name <span className=\"text-red-500\">*</span>\r\n                                    </label>\r\n                                    <Input\r\n                                        value={conversionFormData.fullName}\r\n                                        onChange={(e) => setConversionFormData({\r\n                                            ...conversionFormData,\r\n                                            fullName: e.target.value\r\n                                        })}\r\n                                        placeholder=\"Enter full name\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-2 gap-3\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                            Email\r\n                                        </label>\r\n                                        <Input\r\n                                            type=\"email\"\r\n                                            value={conversionFormData.email}\r\n                                            onChange={(e) => setConversionFormData({\r\n                                                ...conversionFormData,\r\n                                                email: e.target.value\r\n                                            })}\r\n                                            placeholder=\"email@example.com\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                            Phone\r\n                                        </label>\r\n                                        <Input\r\n                                            type=\"tel\"\r\n                                            value={conversionFormData.phone}\r\n                                            onChange={(e) => setConversionFormData({\r\n                                                ...conversionFormData,\r\n                                                phone: e.target.value\r\n                                            })}\r\n                                            placeholder=\"Phone number\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-2 gap-3\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                            Client Status\r\n                                        </label>\r\n                                        <select\r\n                                            value={conversionFormData.status}\r\n                                            onChange={(e) => setConversionFormData({\r\n                                                ...conversionFormData,\r\n                                                status: e.target.value\r\n                                            })}\r\n                                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                                        >\r\n                                            <option value=\"lead\">Lead</option>\r\n                                            <option value=\"active\">Active</option>\r\n                                            <option value=\"paused\">Paused</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                        Notes\r\n                                    </label>\r\n                                    <textarea\r\n                                        value={conversionFormData.notes}\r\n                                        onChange={(e) => setConversionFormData({\r\n                                            ...conversionFormData,\r\n                                            notes: e.target.value\r\n                                        })}\r\n                                        placeholder=\"Add any notes...\"\r\n                                        rows={3}\r\n                                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none\"\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Project Creation Toggle */}\r\n                                <div className=\"border-t pt-4 mt-2\">\r\n                                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            checked={conversionFormData.createProject || false}\r\n                                            onChange={(e) => setConversionFormData({\r\n                                                ...conversionFormData,\r\n                                                createProject: e.target.checked\r\n                                            })}\r\n                                            className=\"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500 border-gray-300\"\r\n                                        />\r\n                                        <span className=\"text-sm font-semibold text-gray-900\">Create Project Now?</span>\r\n                                    </label>\r\n\r\n                                    {conversionFormData.createProject && (\r\n                                        <div className=\"mt-3 grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-2\">\r\n                                            <div>\r\n                                                <label className=\"block text-xs font-medium text-gray-500 mb-1\">Project Type</label>\r\n                                                <select\r\n                                                    value={conversionFormData.projectType || 'external'}\r\n                                                    onChange={(e) => setConversionFormData({\r\n                                                        ...conversionFormData,\r\n                                                        projectType: e.target.value\r\n                                                    })}\r\n                                                    className=\"w-full text-sm px-2 py-1.5 border border-gray-300 rounded\"\r\n                                                >\r\n                                                    <option value=\"external\">External</option>\r\n                                                    <option value=\"managed\">Managed</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"block text-xs font-medium text-gray-500 mb-1\">Pipeline Stage</label>\r\n                                                <select\r\n                                                    value={conversionFormData.projectStage || 'waiting_materials'}\r\n                                                    onChange={(e) => setConversionFormData({\r\n                                                        ...conversionFormData,\r\n                                                        projectStage: e.target.value\r\n                                                    })}\r\n                                                    className=\"w-full text-sm px-2 py-1.5 border border-gray-300 rounded\"\r\n                                                >\r\n                                                    <option value=\"waiting_materials\">Waiting Materials</option>\r\n                                                    <option value=\"building\">Building</option>\r\n                                                    <option value=\"deploy\">Deploy</option>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"flex gap-3 pt-4\">\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                onClick={() => setShowConversionModal(false)}\r\n                                className=\"flex-1\"\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"primary\"\r\n                                onClick={handleConfirmConversion}\r\n                                isLoading={isConverting}\r\n                                className=\"flex-1 bg-indigo-600 hover:bg-indigo-700\"\r\n                            >\r\n                                {conversionFormData?.createProject ? 'Convert & Create Project' : 'Convert Only'}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </Modal>\r\n\r\n                {/* Toast Notifications */}\r\n                <ToastContainer toasts={toast.toasts} onRemove={toast.removeToast} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\clients\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":23,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":107,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":107,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4828,4831],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4828,4831],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":120,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5246,5249],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5246,5249],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5537,5540],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5537,5540],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":169,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":169,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6993,6996],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6993,6996],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Plus, Search, Trash2 } from 'lucide-react';\r\nimport { Card } from '@/components/ui/Card';\r\nimport { Client, ClientInput } from '@/types/client';\r\nimport { listClients, createClient, updateClient, deleteClient, hardDeleteClient, restoreClient } from '@/data/clients';\r\nimport { ClientList } from '@/components/clients/ClientList';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { ClientForm } from '@/components/clients/ClientForm';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\nimport { listLeads, createLead, getOpenLeadsCount, migrateLegacyLeads } from '@/data/leads';\r\nimport { Lead, LeadStatusType } from '@/types/lead';\r\nimport { LeadForm } from '@/components/leads/LeadForm';\r\nimport { useDialog } from '@/hooks/useDialog';\r\nimport { Dialog } from '@/components/ui/Dialog';\r\n\r\nexport default function ClientsPage() {\r\n    const router = useRouter();\r\n    // CLIENTS STATE\r\n    const [clients, setClients] = useState<Client[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [viewMode, setViewMode] = useState<'active' | 'leads' | 'trash'>('active');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    // CLIENT ACTIONS STATE\r\n    const [isCreateClientModalOpen, setIsCreateClientModalOpen] = useState(false);\r\n    const [editingClient, setEditingClient] = useState<Client | null>(null);\r\n    const [isEditClientModalOpen, setIsEditClientModalOpen] = useState(false);\r\n\r\n    // LEADS STATE\r\n    const [leads, setLeads] = useState<Lead[]>([]);\r\n    const [leadStatusFilter, setLeadStatusFilter] = useState<LeadStatusType | 'all'>('new');\r\n    const [isCreateLeadModalOpen, setIsCreateLeadModalOpen] = useState(false);\r\n    const [openLeadsCount, setOpenLeadsCount] = useState(0);\r\n\r\n    // COMMON STATE\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [isMigrating, setIsMigrating] = useState(false); // In-flight guard for migration\r\n    const { dialogState, alert, confirm, closeDialog } = useDialog();\r\n\r\n    const fetchData = React.useCallback(async () => {\r\n        setLoading(true);\r\n        try {\r\n            if (viewMode === 'leads') {\r\n                // Fetch ALL leads to allow client-side filtering (avoids complex index issues)\r\n                const data = await listLeads('all');\r\n                setLeads(data);\r\n            } else {\r\n                const clientsData = await listClients(viewMode === 'trash');\r\n                setClients(clientsData);\r\n            }\r\n\r\n            // Always update leads count for the badge\r\n            const count = await getOpenLeadsCount();\r\n            setOpenLeadsCount(count);\r\n        } catch (error) {\r\n            console.error(\"Error fetching data:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [viewMode]);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n        // Auto-import legacy leads once (guarded by localStorage + in-flight state)\r\n        if (viewMode === 'leads') {\r\n            const hasAutoMigrated = localStorage.getItem('leads_auto_migrated');\r\n            // Check BOTH localStorage AND in-flight state to prevent race conditions\r\n            if (!hasAutoMigrated && !isMigrating) {\r\n                setIsMigrating(true); // Set guard IMMEDIATELY\r\n                // Run migration silently in the background\r\n                migrateLegacyLeads()\r\n                    .then((count) => {\r\n                        if (count > 0) {\r\n\r\n                            // Refresh the leads list to show migrated items\r\n                            fetchData();\r\n                        }\r\n                        // Mark as completed regardless of count to avoid future checks\r\n                        localStorage.setItem('leads_auto_migrated', 'true');\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('Auto-migration failed:', error);\r\n                        // Don't set the flag if migration failed, so it can retry next time\r\n                    })\r\n                    .finally(() => {\r\n                        setIsMigrating(false); // Clear guard when done (success or failure)\r\n                    });\r\n            }\r\n        }\r\n    }, [viewMode, isMigrating, fetchData]); // Include isMigrating to re-check after it changes\r\n\r\n    // --- CLIENT HANDLERS ---\r\n\r\n    const handleCreateClient = async (data: unknown) => {\r\n        setIsSubmitting(true);\r\n        try {\r\n            await createClient(data as ClientInput);\r\n            await fetchData();\r\n            setIsCreateClientModalOpen(false);\r\n        } catch (error: any) {\r\n            console.error(\"Failed to create client\", error);\r\n            alert(error.message || \"Failed to create client\", 'error', 'Error');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const handleEditClientClick = (client: Client) => {\r\n        setEditingClient(client);\r\n        setIsEditClientModalOpen(true);\r\n    };\r\n\r\n    const handleUpdateClient = async (data: any) => {\r\n        if (!editingClient) return;\r\n        setIsSubmitting(true);\r\n        try {\r\n            await updateClient(editingClient.id, data);\r\n            await fetchData();\r\n            setIsEditClientModalOpen(false);\r\n            setEditingClient(null);\r\n        } catch (error: any) {\r\n            console.error(\"Failed to update client\", error);\r\n            alert(error.message || \"Failed to update client\", 'error', 'Error');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteClientClick = async (clientId: string) => {\r\n        const message = viewMode === 'trash'\r\n            ? 'Are you sure you want to permanently delete this client? This action cannot be undone.'\r\n            : 'Are you sure you want to delete this client?';\r\n\r\n        confirm(message, async () => {\r\n            try {\r\n                if (viewMode === 'trash') {\r\n                    // Permanent delete from trash\r\n                    await hardDeleteClient(clientId);\r\n                } else {\r\n                    // Soft delete (move to trash)\r\n                    await deleteClient(clientId);\r\n                }\r\n                await fetchData();\r\n            } catch (error) {\r\n                console.error(\"Failed to delete client\", error);\r\n                alert('Failed to delete client', 'error', 'Error');\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleRestoreClientClick = async (clientId: string) => {\r\n        try {\r\n            await restoreClient(clientId);\r\n            await fetchData();\r\n        } catch (error) {\r\n            console.error(\"Failed to restore client\", error);\r\n        }\r\n    };\r\n\r\n    // --- LEAD HANDLERS ---\r\n\r\n    const handleCreateLead = async (data: any) => {\r\n        setIsSubmitting(true);\r\n        try {\r\n            await createLead({\r\n                ...data,\r\n                status: data.status || 'new'\r\n            });\r\n            await fetchData();\r\n            setIsCreateLeadModalOpen(false);\r\n        } catch (error) {\r\n            console.error(\"Failed to create lead\", error);\r\n            const message = error instanceof Error ? error.message : \"Failed to create lead\";\r\n            alert(message, 'error', 'Error');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    // --- FILTERING ---\r\n\r\n    const filteredClients = clients.filter(client =>\r\n        client.fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (client.email && client.email.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n        (client.clientNumber && client.clientNumber.toString().includes(searchTerm))\r\n    );\r\n\r\n    // --- STALE CHECK ---\r\n    const isLeadStale = (lead: Lead) => {\r\n        if (lead.status !== 'new' && lead.status !== 'qualified') return false;\r\n        if (!lead.createdAt) return false;\r\n\r\n        try {\r\n            const createdDate = lead.createdAt.toDate ? lead.createdAt.toDate() : new Date(lead.createdAt);\r\n            const now = new Date();\r\n            const diffInHours = (now.getTime() - createdDate.getTime()) / (1000 * 60 * 60);\r\n            return diffInHours > 48;\r\n        } catch {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    const hasStaleLeads = leads.some(isLeadStale);\r\n\r\n    const filteredLeads = leads.filter(lead => {\r\n        const matchesSearch =\r\n            lead.fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            (lead.email && lead.email.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n            (lead.phone && lead.phone.includes(searchTerm));\r\n\r\n        const matchesStatus = leadStatusFilter === 'all' || lead.status === leadStatusFilter;\r\n\r\n        return matchesSearch && matchesStatus;\r\n    });\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <h1 className=\"text-2xl font-bold tracking-tight text-gray-900\">\r\n                        {viewMode === 'leads' ? 'Leads' : 'Clients'}\r\n                    </h1>\r\n                    <span className=\"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800\">\r\n                        {viewMode === 'leads' ? filteredLeads.length : filteredClients.length}\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                    {viewMode === 'leads' ? (\r\n                        <Button onClick={() => setIsCreateLeadModalOpen(true)}>\r\n                            <Plus className=\"mr-2 h-4 w-4\" />\r\n                            New Lead\r\n                        </Button>\r\n                    ) : (\r\n                        <Button onClick={() => setIsCreateClientModalOpen(true)}>\r\n                            <Plus className=\"mr-2 h-4 w-4\" />\r\n                            New Client\r\n                        </Button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center\">\r\n                <div className=\"relative flex-1 max-w-md w-full\">\r\n                    <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400\" />\r\n                    <Input\r\n                        placeholder={viewMode === 'leads' ? \"Search leads...\" : \"Search clients...\"}\r\n                        className=\"pl-10\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                {/* View Toggles */}\r\n                <div className=\"flex bg-gray-100 p-1 rounded-lg\">\r\n                    <button\r\n                        onClick={() => setViewMode('active')}\r\n                        className={`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${viewMode === 'active' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}\r\n                    >\r\n                        Active Clients\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setViewMode('leads')}\r\n                        className={`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${viewMode === 'leads' ? 'bg-white text-gray-900 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}\r\n                    >\r\n                        Leads\r\n                        {openLeadsCount > 0 && (\r\n                            <span className={`inline-flex items-center justify-center rounded-full px-1.5 py-0.5 text-[10px] font-bold ${hasStaleLeads\r\n                                ? 'bg-red-100 text-red-700 animate-pulse'\r\n                                : 'bg-indigo-100 text-indigo-700'\r\n                                }`}>\r\n                                {openLeadsCount}\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                    <button\r\n                        onClick={() => setViewMode('trash')}\r\n                        className={`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${viewMode === 'trash' ? 'bg-white text-red-600 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}\r\n                    >\r\n                        <Trash2 className=\"h-3 w-3\" />\r\n                        Trash\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Extra Filters for Leads */}\r\n            {viewMode === 'leads' && (\r\n                <div className=\"flex flex-wrap gap-2 items-center w-full\">\r\n                    {['all', 'new', 'contacted', 'qualified', 'converted'].map((status) => (\r\n                        <button\r\n                            key={status}\r\n                            onClick={() => setLeadStatusFilter(status as LeadStatusType | 'all')}\r\n                            className={`px-3 py-1.5 text-xs font-medium rounded-full border transition-colors capitalize ${leadStatusFilter === status ? 'bg-indigo-50 border-indigo-200 text-indigo-700' : 'bg-white border-gray-200 text-gray-600 hover:bg-gray-50'}`}\r\n                        >\r\n                            {status}\r\n                        </button>\r\n                    ))}\r\n\r\n                    <div className=\"flex-1\" />\r\n\r\n                    <button\r\n                        onClick={() => setLeadStatusFilter('archived')}\r\n                        className={`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-full border transition-colors ${leadStatusFilter === 'archived' ? 'bg-gray-100 border-gray-300 text-gray-800' : 'bg-white border-gray-200 text-gray-500 hover:bg-gray-50'}`}\r\n                    >\r\n                        <Trash2 className=\"h-3 w-3\" />\r\n                        Archived\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {/* CONTENT AREA */}\r\n            {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                    <Spinner className=\"h-8 w-8\" />\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    {/* LEADS OVERLAY */}\r\n                    {viewMode === 'leads' ? (\r\n                        filteredLeads.length === 0 ? (\r\n                            <Card className=\"flex min-h-[200px] flex-col items-center justify-center border-dashed p-8 text-center bg-gray-50/50\">\r\n                                <p className=\"text-sm text-gray-500\">No leads found.</p>\r\n                            </Card>\r\n                        ) : (\r\n                            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\r\n                                {filteredLeads.map((lead, index) => {\r\n                                    const stale = isLeadStale(lead);\r\n                                    return (\r\n                                        <Link\r\n                                            key={lead.id}\r\n                                            href={`/admin/clients/leads/${lead.id}`}\r\n                                            className=\"block\"\r\n                                        >\r\n                                            <Card\r\n                                                className={`flex flex-col justify-between p-5 hover:shadow-md transition-shadow animate-slide-in opacity-0 cursor-pointer ${stale ? 'border-l-4 border-l-red-500' : ''}`}\r\n                                                style={{ animationDelay: `${index * 50}ms`, animationFillMode: 'forwards' }}\r\n                                            >\r\n                                                <div>\r\n                                                    <div className=\"flex items-start justify-between\">\r\n                                                        <h3 className=\"font-semibold text-gray-900 line-clamp-1\">{lead.fullName}</h3>\r\n                                                        <span className={`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset ${lead.status === 'new' ? 'bg-blue-50 text-blue-700 ring-blue-600/20' :\r\n                                                            lead.status === 'converted' ? 'bg-green-50 text-green-700 ring-green-600/20' :\r\n                                                                'bg-gray-50 text-gray-600 ring-gray-500/10'\r\n                                                            }`}>\r\n                                                            {lead.status}\r\n                                                        </span>\r\n                                                    </div>\r\n\r\n                                                    {stale && (\r\n                                                        <div className=\"mt-2 text-xs font-bold text-red-600 flex items-center gap-1\">\r\n                                                            <span>⚠️ Action Required (48h+)</span>\r\n                                                        </div>\r\n                                                    )}\r\n\r\n                                                    <div className=\"mt-2 text-sm text-gray-500\">\r\n                                                        {lead.email}\r\n                                                    </div>\r\n                                                    <div className=\"text-xs text-gray-400 mt-4\">\r\n                                                        Created: {lead.createdAt?.toDate ? lead.createdAt.toDate().toLocaleDateString() : 'Just now'}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </Card>\r\n                                        </Link>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )\r\n                    ) : (\r\n                        /* CLIENTS LIST */\r\n                        <ClientList\r\n                            clients={filteredClients}\r\n                            onEdit={handleEditClientClick}\r\n                            onDelete={handleDeleteClientClick}\r\n                            onRestore={handleRestoreClientClick}\r\n                            isTrash={viewMode === 'trash'}\r\n                        />\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/* MODALS */}\r\n            <Modal\r\n                isOpen={isCreateClientModalOpen}\r\n                onClose={() => setIsCreateClientModalOpen(false)}\r\n                title=\"Create New Client\"\r\n            >\r\n                <ClientForm\r\n                    onSubmit={handleCreateClient}\r\n                    onCancel={() => setIsCreateClientModalOpen(false)}\r\n                    isLoading={isSubmitting}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal\r\n                isOpen={isEditClientModalOpen}\r\n                onClose={() => setIsEditClientModalOpen(false)}\r\n                title=\"Edit Client\"\r\n            >\r\n                <ClientForm\r\n                    initialData={editingClient || undefined}\r\n                    onSubmit={handleUpdateClient}\r\n                    onCancel={() => setIsEditClientModalOpen(false)}\r\n                    isLoading={isSubmitting}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal\r\n                isOpen={isCreateLeadModalOpen}\r\n                onClose={() => setIsCreateLeadModalOpen(false)}\r\n                title=\"Add New Lead\"\r\n            >\r\n                <LeadForm\r\n                    initialData={{ status: 'new' }}\r\n                    onSubmit={handleCreateLead}\r\n                    onCancel={() => setIsCreateLeadModalOpen(false)}\r\n                    isLoading={isSubmitting}\r\n                />\r\n            </Modal>\r\n\r\n            {/* Global Dialog */}\r\n            <Dialog\r\n                isOpen={dialogState.isOpen}\r\n                onClose={closeDialog}\r\n                onConfirm={dialogState.onConfirm}\r\n                type={dialogState.type}\r\n                title={dialogState.title}\r\n                message={dialogState.message}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\factory\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\projects\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\admin\\projects\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\app\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\clients\\ClientForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\clients\\ClientList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\layout\\BottomNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\leads\\LeadForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\projects\\ProjectCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\projects\\ProjectForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\ui\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\ui\\Card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\ui\\Dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\ui\\Input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\ui\\Modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\ui\\Spinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\components\\ui\\Toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\context\\AuthContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\data\\clients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\data\\leads.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\data\\projects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\hooks\\useDialog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\hooks\\useToast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\lib\\firebaseClient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\lib\\firestore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\schemas\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\schemas\\lead.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\schemas\\project.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\types\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\types\\lead.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\types\\project.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\hagai\\OneDrive - Ariel University\\Desktop\\saas\\sites-factory-saas\\src\\utils\\normalize.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
